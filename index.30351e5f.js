let e;function t(e){return null!==e&&"object"==typeof e&&"name"in e&&"string"==typeof e.name}function n(e){return null!==e&&"object"==typeof e&&"step"in e&&"number"==typeof e.step&&"alt"in e&&"number"==typeof e.alt}var a=[0,2,4,-1,1,3,5],o=a.map(e=>Math.floor(7*e/12));function m(e){let{step:t,alt:n,oct:m,dir:i=1}=e,r=a[t]+7*n;return void 0===m?[i*r]:[i*r,i*(m-o[t]-4*n)]}var i=[3,0,4,1,5,2,6];function r(e){let[t,n,a]=e,m=i[function(e){let t=(e+1)%7;return t<0?7+t:t}(t)],r=Math.floor((t+1)/7);if(void 0===n)return{step:m,alt:r,dir:a};let d=n+4*r+o[m];return{step:m,alt:r,oct:d,dir:a}}var d=(e,t)=>Array(Math.abs(t)+1).join(e),l={empty:!0,name:"",acc:""},s=RegExp("^([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})|(AA|A|P|M|m|d|dd)([-+]?\\d+)$"),c={};function u(e){return"string"==typeof e?c[e]||(c[e]=function(e){let t=function(e){let t=s.exec(`${e}`);return null===t?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}(e);if(""===t[0])return l;let n=+t[0],a=t[1],o=(Math.abs(n)-1)%7,i=P[o];if("M"===i&&"P"===a)return l;let r="M"===i?"majorable":"perfectable",d=""+n+a,c=n<0?-1:1,u=8===n||-8===n?n:c*(o+1),M="M"===a&&"majorable"===r||"P"===a&&"perfectable"===r?0:"m"===a&&"majorable"===r?-1:/^A+$/.test(a)?a.length:/^d+$/.test(a)?-1*("perfectable"===r?a.length:a.length+1):0,h=Math.floor((Math.abs(n)-1)/7),f=c*(p[o]+M+12*h),b=(c*(p[o]+M)%12+12)%12,g=m({step:o,alt:M,oct:h,dir:c});return{empty:!1,name:d,num:n,q:a,step:o,alt:M,dir:c,type:r,simple:u,semitones:f,chroma:b,coord:g,oct:h}}(e)):n(e)?u(function(e){let{step:t,alt:n,oct:a=0,dir:o}=e;if(!o)return"";let m=t+1+7*a,i="M"===P[t]?"majorable":"perfectable";return(o<0?"-":"")+(0===m?t+1:m)+(0===n?"majorable"===i?"M":"P":-1===n&&"majorable"===i?"m":n>0?d("A",n):d("d","perfectable"===i?n:n+1))}(e)):t(e)?u(e.name):l}var p=[0,2,4,5,7,9,11],P="PMMPPMM";function M(e,t){let[n,a=0]=e;return u(r(t||7*n+12*a<0?[-n,-a,-1]:[n,a,1]))}var h=(e,t)=>Array(Math.abs(t)+1).join(e),f={empty:!0,name:"",pc:"",acc:""},b=new Map,g=e=>"CDEFGAB".charAt(e),y=e=>e<0?h("b",-e):h("#",e),v=e=>"b"===e[0]?-e.length:e.length;function A(e){let a=JSON.stringify(e),o=b.get(a);if(o)return o;let i="string"==typeof e?function(e){let t=L(e);if(""===t[0]||""!==t[3])return f;let n=t[0],a=t[1],o=t[2],i=(n.charCodeAt(0)+3)%7,r=v(a),d=o.length?+o:void 0,l=m({step:i,alt:r,oct:d}),s=n+a+o,c=n+a,u=(N[i]+r+120)%12,p=void 0===d?j(N[i]+r,12)-1188:N[i]+r+12*(d+1);return{empty:!1,acc:a,alt:r,chroma:u,coord:l,freq:void 0===d?null:440*Math.pow(2,(p-69)/12),height:p,letter:n,midi:p>=0&&p<=127?p:null,name:s,oct:d,pc:c,step:i}}(e):n(e)?A(function(e){let{step:t,alt:n,oct:a}=e,o=g(t);if(!o)return"";let m=o+y(n);return a||0===a?m+a:m}(e)):t(e)?A(e.name):f;return b.set(a,i),i}var E=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function L(e){let t=E.exec(e);return[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]}var j=(e,t)=>(e%t+t)%t,N=[0,2,4,5,7,9,11];function I(e,t){let n=A(e),a=Array.isArray(t)?t:u(t).coord;if(n.empty||!a||a.length<2)return"";let o=n.coord;return A(r(1===o.length?[o[0]+a[0]]:[o[0]+a[0],o[1]+a[1]])).name}function S(e,t){let n=e.length;return a=>{if(!t)return"";let o=I(t,[0,Math.floor(a/n)]);return I(o,e[a<0?(n- -a%n)%n:a%n])}}function x(e,t,n){return function(...a){return console.warn(`${e} is deprecated. Use ${t}.`),n.apply(this,a)}}var C=x("isNamed","isNamedPitch",t);function q(e,t){let n=t.length,a=(e%n+n)%n;return t.slice(a,n).concat(t.slice(0,a))}var w={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},k=e=>Number(e).toString(2),$=e=>parseInt(e,2),D=/^[01]{12}$/,T=e=>"number"==typeof e&&e>=0&&e<=4095,V=e=>{var t;return e&&(t=e.chroma,D.test(t))},O={[w.chroma]:w};function F(e){let t=D.test(e)?e:T(e)?k(e):Array.isArray(e)?function(e){let t;if(0===e.length)return w.chroma;let n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let a=0;a<e.length;a++)(t=A(e[a])).empty&&(t=u(e[a])),t.empty||(n[t.chroma]=1);return n.join("")}(e):V(e)?e.chroma:w.chroma;return O[t]=O[t]||function(e){let t=$(e),n=k((function(e){let t=e.split("");return t.map((e,n)=>q(n,t).join(""))})(e).map($).filter(e=>e>=2048).sort()[0]),a=function(e){let t=[];for(let n=0;n<12;n++)"1"===e.charAt(n)&&t.push(B[n]);return t}(e);return{empty:!1,name:"",setNum:t,chroma:e,normalized:n,intervals:a}}(t)}x("Pcset.pcset","Pcset.get",F);var B=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function G(e){let t=F(e).setNum;return e=>{let n=F(e).setNum;return t&&t!==n&&(n|t)===n}}var J={...w,name:"",quality:"Unknown",intervals:[],aliases:[]},z=[],R={};function U(e){return R[e]||J}function H(){return z.slice()}x("ChordType.chordType","ChordType.get",U),x("ChordType.entries","ChordType.all",H),[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]].forEach(([e,t,n])=>(function(e,t,n){let a=function(e){let t=t=>-1!==e.indexOf(t);return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}(e),o={...F(e),name:n||"",quality:a,intervals:e,aliases:t};z.push(o),o.name&&(R[o.name]=o),R[o.setNum]=o,R[o.chroma]=o,o.aliases.forEach(e=>{R[e]=o})})(e.split(" "),n.split(" "),t)),z.sort((e,t)=>e.setNum-t.setNum);var X=e=>{let t=e.reduce((e,t)=>{let n=A(t).chroma;return void 0!==n&&(e[n]=e[n]||A(t).name),e},{});return e=>t[e]},K={anyThirds:384,perfectFifth:16,nonPerfectFifths:40,anySeventh:3},Q=e=>t=>!!(t&e),W=Q(K.anyThirds),Y=Q(K.perfectFifth),Z=Q(K.anySeventh),_=Q(K.nonPerfectFifths),ee={...w,intervals:[],aliases:[]},et=[],en={};function ea(e){return en[e]||ee}function eo(){return et.slice()}x("ScaleDictionary.scaleType","ScaleType.get",ea),x("ScaleDictionary.entries","ScaleType.all",eo),[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]].forEach(([e,t,...n])=>(function(e,t,n=[]){let a={...F(e),name:t,intervals:e,aliases:n};return et.push(a),en[a.name]=a,en[a.setNum]=a,en[a.chroma]=a,a.aliases.forEach(e=>{en[e]=a}),a})(e.split(" "),t,n));var em={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function ei(e){let[t,n,a,o]=L(e);return""===t?["",e]:"A"===t&&"ug"===o?["","aug"]:[t+n,a+o]}function er(e){if(""===e)return em;if(Array.isArray(e)&&2===e.length)return ed(e[1],e[0]);{let[t,n]=ei(e),a=ed(n,t);return a.empty?ed(e):a}}function ed(e,t,n){let a=U(e),o=A(t||""),m=A(n||"");if(a.empty||t&&o.empty||n&&m.empty)return em;let i=function(e,t){let n=A(e),a=A(t);if(n.empty||a.empty)return"";let o=n.coord,m=a.coord,i=m[0]-o[0],r=2===o.length&&2===m.length?m[1]-o[1]:-Math.floor(7*i/12);return M([i,r],a.height===n.height&&null!==a.midi&&null!==n.midi&&n.step>a.step).name}(o.pc,m.pc),r=a.intervals.indexOf(i)+1;if(!m.empty&&!r)return em;let d=Array.from(a.intervals);for(let e=1;e<r;e++){let e=d[0][0],t=d[0][1],n=parseInt(e,10)+7;d.push(`${n}${t}`),d.shift()}let l=o.empty?[]:d.map(e=>I(o,e));e=-1!==a.aliases.indexOf(e)?e:a.aliases[0];let s=`${o.empty?"":o.pc}${e}${m.empty||r<=1?"":"/"+m.pc}`,c=`${t?o.pc+" ":""}${a.name}${r>1&&n?" over "+m.pc:""}`;return{...a,name:c,symbol:s,type:a.name,root:m.name,intervals:d,rootDegree:r,tonic:o.name,notes:l}}var el=x("Chord.chord","Chord.get",er),es={getChord:ed,get:er,detect:function(e,t={}){let n=e.map(e=>A(e).pc).filter(e=>e);return 0===A.length?[]:(function(e,t,n){let a=e[0],o=A(a).chroma,m=X(e),i=function(e,t=!0){let n=F(e).chroma.split("");return n.map((e,a)=>{let o=q(a,n);return t&&"0"===o[0]?null:o.join("")}).filter(e=>0===e||e)}(e,!1),r=[];return i.forEach((e,i)=>{let d=n.assumePerfectFifth&&function(e){let t=parseInt(e,2);return _(t)?e:(16|t).toString(2)}(e);H().filter(t=>n.assumePerfectFifth&&function(e){let t=parseInt(e.chroma,2);return W(t)&&Y(t)&&Z(t)}(t)?t.chroma===d:t.chroma===e).forEach(e=>{let n=e.aliases[0],d=m(i);i!==o?r.push({weight:.5*t,name:`${d}${n}/${a}`}):r.push({weight:1*t,name:`${d}${n}`})})}),r})(n,1,t).filter(e=>e.weight).sort((e,t)=>t.weight-e.weight).map(e=>e.name)},chordScales:function(e){let t=G(er(e).chroma);return eo().filter(e=>t(e.chroma)).map(e=>e.name)},extended:function(e){let t=er(e),n=G(t.chroma);return H().filter(e=>n(e.chroma)).map(e=>t.tonic+e.aliases[0])},reduced:function(e){let t=er(e),n=function(e){let t=F(e).setNum;return e=>{let n=F(e).setNum;return t&&t!==n&&(n&t)===n}}(t.chroma);return H().filter(e=>n(e.chroma)).map(e=>t.tonic+e.aliases[0])},tokenize:ei,transpose:function(e,t){let[n,a]=ei(e);return n?I(n,t)+a:e},degrees:function(e){let{intervals:t,tonic:n}=er(e),a=S(t,n);return e=>e?a(e>0?e-1:e):""},steps:function(e){let{intervals:t,tonic:n}=er(e);return S(t,n)},chord:el},ec=[];function eu(e){return(t,n)=>{let a=u(t).coord,o=u(n).coord;if(a&&o)return M(e(a,o)).name}}[[.125,"dl",["large","duplex longa","maxima","octuple","octuple whole"]],[.25,"l",["long","longa"]],[.5,"d",["double whole","double","breve"]],[1,"w",["whole","semibreve"]],[2,"h",["half","minim"]],[4,"q",["quarter","crotchet"]],[8,"e",["eighth","quaver"]],[16,"s",["sixteenth","semiquaver"]],[32,"t",["thirty-second","demisemiquaver"]],[64,"sf",["sixty-fourth","hemidemisemiquaver"]],[128,"h",["hundred twenty-eighth"]],[256,"th",["two hundred fifty-sixth"]]].forEach(([e,t,n])=>{ec.push({empty:!1,dots:"",name:"",value:1/e,fraction:e<1?[1/e,1]:[1,e],shorthand:t,names:n})}),eu((e,t)=>[e[0]+t[0],e[1]+t[1]]),eu((e,t)=>[e[0]-t[0],e[1]-t[1]]);var ep=Math.log(2),eP=Math.log(440),eM="C C# D D# E F F# G G# A A# B".split(" "),eh="C Db D Eb E F Gb G Ab A Bb B".split(" "),ef=e=>e.name,eb=e=>e.map(A).filter(e=>!e.empty),eg=(e,t)=>e.height-t.height,ey={empty:!0,name:"",chordType:""},ev={};function eA(e){return"string"==typeof e?ev[e]||(ev[e]=function(e){let[t,n,a,o]=eE.exec(e)||["","","",""];if(!a)return ey;let m=a.toUpperCase(),i=ej.indexOf(m),r=v(n);return{empty:!1,name:t,roman:a,interval:u({step:i,alt:r,dir:1}).name,acc:n,chordType:o,alt:r,step:i,major:a===m,oct:0,dir:1}}(e)):"number"==typeof e?eA(ej[e]||""):n(e)?eA(y(e.alt)+ej[e.step]):C(e)?eA(e.name):ey}x("RomanNumeral.romanNumeral","RomanNumeral.get",eA);var eE=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/,eL="I II III IV V VI VII",ej=eL.split(" ");eL.toLowerCase().split(" "),Object.freeze([]);var eN=(e,t,n="")=>t.map((t,a)=>`${e[a]}${n}${t}`);function eI(e,t,n,a,o){return m=>{let i=e.map(e=>eA(e).interval||""),r=i.map(e=>I(m,e));return{tonic:m,grades:e,intervals:i,scale:r,triads:eN(r,t),chords:eN(r,n),chordsHarmonicFunction:a.slice(),chordScales:eN(r,o," ")}}}eI("I II III IV V VI VII".split(" ")," m m   m dim".split(" "),"maj7 m7 m7 maj7 7 m7 m7b5".split(" "),"T SD T SD D T D".split(" "),"major,dorian,phrygian,lydian,mixolydian,minor,locrian".split(",")),eI("I II bIII IV V bVI bVII".split(" "),"m dim  m m  ".split(" "),"m7 m7b5 maj7 m7 m7 maj7 7".split(" "),"T SD T SD D SD SD".split(" "),"minor,locrian,major,dorian,phrygian,lydian,mixolydian".split(",")),eI("I II bIII IV V bVI VII".split(" "),"m dim aug m   dim".split(" "),"mMaj7 m7b5 +maj7 m7 7 maj7 o7".split(" "),"T SD T SD D SD D".split(" "),"harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian".split(",")),eI("I II bIII IV V VI VII".split(" "),"m m aug   dim dim".split(" "),"m6 m7 +maj7 7 7 m7b5 m7b5".split(" "),"T SD T SD D  ".split(" "),"melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered".split(","));var eS=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],ex={...w,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},eC=eS.map(function(e){let[t,n,a,o,m,i,r]=e,d=Number(n).toString(2);return{empty:!1,intervals:ea(o).intervals,modeNum:t,chroma:d,normalized:d,name:o,setNum:n,alt:a,triad:m,seventh:i,aliases:r?[r]:[]}}),eq={};function ew(e){return"string"==typeof e?eq[e.toLowerCase()]||ex:e&&e.name?ew(e.name):ex}function ek(e){return(t,n)=>{let a=ew(t);if(a.empty)return[];let o=q(a.modeNum,e),m=a.intervals.map(e=>I(n,e));return o.map((e,t)=>m[t]+e)}}eC.forEach(e=>{eq[e.name]=e,e.aliases.forEach(t=>{eq[t]=e})}),x("Mode.mode","Mode.get",ew),x("Mode.mode","Mode.all",function(){return eC.slice()}),ek(eS.map(e=>e[4])),ek(eS.map(e=>e[5]));var e$={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};x("Scale.scale","Scale.get",function(e){let t=Array.isArray(e)?e:function(e){if("string"!=typeof e)return["",""];let t=e.indexOf(" "),n=A(e.substring(0,t));if(n.empty){let t=A(e);return t.empty?["",e]:[t.name,""]}let a=e.substring(n.name.length+1);return[n.name,a.length?a:""]}(e),n=A(t[0]).name,a=ea(t[1]);if(a.empty)return e$;let o=a.name,m=n?a.intervals.map(e=>I(n,e)):[],i=n?n+" "+o:o;return{...a,name:i,type:o,tonic:n,notes:m}}),$2ec1c585bb9dbcaa$import$39f8f2ba4979f6a9;const eD=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],eT=["E","A","D","G","B","E"],eV=document.querySelector(".braco"),eO=document.querySelector(".openNote-container"),eF=document.querySelectorAll(".range-container > span")[1],eB=document.querySelectorAll(".range-container > span")[0],eG=document.querySelectorAll(".range-container > span")[2],eJ=document.querySelector(".acordeResultado"),ez=document.querySelector(".acordeBTN"),eR=document.querySelector(".btn-info"),eU=document.querySelector(".btn-construtor"),eH=document.querySelector(".btn-acordes"),eX=document.getElementsByName("nomeAcorde")[0],eK=document.querySelector(".btn-inputNome"),eQ=document.querySelector(".btn-salvaAcorde");let eW=[[],[],[],[],[],[]],eY=[{},{},{},{},{},{}],eZ=eU,e_=1;function e1(e,t){let n=eT[e-1];if(e_>1){let e=n;n=eD[eD.findIndex(t=>t==e)+e_-1<eD.length?eD.findIndex(t=>t==e)+e_-1:eD.findIndex(t=>t==e)+e_-1-eD.length]}return eD[eD.findIndex(e=>e==n)+t<eD.length?eD.findIndex(e=>e==n)+t:eD.findIndex(e=>e==n)+t-eD.length]}function e7(){for(let e=1;e<6;e++)for(let t=1;t<6;t++)eW[e-1][t-1].replaceChild(document.createTextNode(e1(e,t)),eW[e-1][t-1].childNodes[0]),5===e&&eW[5][t-1].replaceChild(document.createTextNode(e1(6,t)),eW[5][t-1].childNodes[0])}function e5(){[...document.querySelectorAll(".numeroCasas-container > span")].forEach((e,t)=>{e.textContent=t+e_})}function e3(){eY.forEach((e,t)=>{void 0!=e.nota&&6!=e.casa&&(e.nota=e.elemento.textContent)}),e4()}function e0(e){6!=eY[e].casa?eY[e].elemento.classList.toggle("hidden"):(eY[e].elemento.childNodes[1].classList.remove("dis-block"),eY[e].elemento.childNodes[1].classList.add("dis-none"))}function e4(){let e=document.querySelector(".notasSelecionadas-holder");eY.forEach((t,n)=>{let a=e.children.length<6?document.createElement("span"):e.children[n],o=`Corda ${n+1}: `+(void 0!=t.nota?t.nota:"Sem nota");a.childNodes.length<1?(a.append(o),e.append(a)):a.replaceChild(document.createTextNode(o),a.childNodes[0])})}function e9(e,t,n){if(n.classList.contains("hidden")){n.classList.toggle("hidden"),void 0!=eY[e].nota?e0(e):document.querySelector(`.openNote-holder:nth-child(${e+1}) .openNote-span`).classList.add("dis-none");let a=eY[e];a.nota=n.innerText,a.casa=t,a.elemento=n}else n.classList.toggle("hidden"),document.querySelector(`.openNote-holder:nth-child(${e+1}) .openNote-span`).classList.remove("dis-none"),eY[e]={};e4()}function e2(e,t,n){for(let a=1;a<6;a++){let o=document.createElement("div");o.classList.add("coluna");for(let e=1;e<6;e++){let m=document.createElement("div");m.classList.add("casa");let i=document.createElement("span"),r=document.createElement("span"),d=e1(a,e);if(r.append(d),eW[a-1].push(r),i.appendChild(r),m.appendChild(i),t?(i.classList.add("nota-container-B"),void 0!=n[a-1].casa&&e===n[a-1].casa?r.classList.add("nota"):r.classList.add("nota","hidden")):(i.classList.add("nota-container"),i.addEventListener("click",()=>{e9(a-1,e,r)}),r.classList.add("nota","hidden")),5===a){let o=document.createElement("span"),i=document.createElement("span"),r=e1(6,e);i.append(r),eW[5].push(i),o.appendChild(i),m.appendChild(o),t?(o.classList.add("nota-container-direita-B"),void 0!=n[5].casa&&e===n[5].casa?i.classList.add("nota"):i.classList.add("nota","hidden")):(o.classList.add("nota-container-direita"),i.classList.add("nota","hidden"),o.addEventListener("click",()=>{e9(a,e,i)}))}o.appendChild(m)}e.appendChild(o)}}function e6(){document.querySelector(".builder-container").children[0].classList.contains("range-container")&&(e=Array.from(document.querySelector(".builder-container").childNodes))}function e8(e){e!==eZ&&(eZ.classList.toggle("atual"),e.classList.toggle("atual"),eZ=e)}window.onload=()=>{e2(eV),eT.forEach((e,t)=>{let n=document.createElement("div"),a=document.createElement("span"),o=document.createElement("span"),m=document.createElement("p");m.append(e),a.append("X"),a.classList.add("openNote-span"),m.classList.add("dis-none"),a.append(m),n.append(a),n.classList.add("openNote-holder"),o.classList.add("openNote-bola"),o.classList.add("dis-none"),n.append(o),eO.append(n),n.addEventListener("click",()=>{!function(e,t,n){if(n.childNodes[0].classList.contains("dis-none")&&n.childNodes[1].classList.contains("dis-none")||n.childNodes[1].classList.contains("dis-none")){void 0!=eY[e].nota&&e0(e),n.childNodes[0].classList.add("dis-none"),n.childNodes[1].classList.add("dis-block"),n.childNodes[1].classList.remove("dis-none");let a=eY[e];a.nota=t,a.casa=6,a.elemento=n}else n.childNodes[0].classList.remove("dis-none"),n.childNodes[1].classList.remove("dis-block"),n.childNodes[1].classList.add("dis-none"),eY[e]={};e4()}(t,e,n)})}),e4(),eF.append(e_)},ez.addEventListener("click",()=>{!function(){let e,t=eY.map(e=>{if(void 0!=e.nota)return e.nota}),n=es.detect(t);if(0!=n.length){if(e="Acordes detectados: "+n.join(", "),eX.value=n[0],null===document.querySelector(".listaInput")){let e=document.createElement("ul");e.classList.add("listaInput","dis-none"),document.querySelector(".inputNome-holder").append(e),n.forEach(t=>{let n=document.createElement("li");n.append(t),e.append(n),n.addEventListener("click",()=>{eX.value=n.textContent})})}else document.querySelector(".listaInput").replaceChildren(...n.map(e=>{let t=document.createElement("li");return t.append(e),t.addEventListener("click",()=>{eX.value=t.textContent}),t}))}else e="Nenhum acorde foi detectado";eJ.replaceChildren(e)}()}),eB.addEventListener("click",e=>{e_>1&&(e_-=1,eF.replaceChild(document.createTextNode(e_),eF.childNodes[0]),e5(),e7(),e3())}),eG.addEventListener("click",e=>{e_<20&&(e_+=1,eF.replaceChild(document.createTextNode(e_),eF.childNodes[0]),e5(),e7(),e3())}),eR.addEventListener("click",e=>{let t,n,a,o,m,i,r,d,l;e6(),t=document.createElement("p"),n=document.createElement("p"),a=document.createElement("h2"),o=document.createElement("h2"),m=document.createElement("section"),i=document.createElement("a"),r=document.createElement("a"),d=document.createElement("a"),(l=document.createElement("div")).classList.add("link-holder"),m.classList.add("sec-info"),o.append("Informações de contato"),a.append("Sobre o site"),t.append("Nesse projeto pessoal de minha autoria você pode escolher as posições das notas no braço do violão, em formato de cifra, e então achar o nome do acorde digitado."),n.append("Foi utilizado o empacotador web Parcel junto com Javascript, CSS, HTML e a biblioteca javascript de teoria musical 'tonal'."),i.append("Linkedin"),r.append("Github"),d.append("arthurlacerda206@gmail.com"),i.href="https://www.linkedin.com/in/arthurfl0",r.href="https://github.com/arthurFL0",d.href="mailto:arthurlacerda206@gmail.com",l.append(i,r,d),m.append(a,t,n,o,l),document.querySelector(".builder-container").replaceChildren(m),e8(e.target)}),eU.addEventListener("click",t=>{e&&document.querySelector(".builder-container").replaceChildren(...e),e8(t.target)}),eH.addEventListener("click",e=>{e6(),function e(){let t=document.createElement("div");t.classList.add("container-acordes"),document.querySelector(".builder-container").replaceChildren(t);let n=JSON.parse(localStorage.getItem("acordes"));if(n.length>0)n.forEach((n,a)=>{let o=document.createElement("div"),m=document.createElement("button");m.append(n.nome),m.classList.add("btn-acorde","pointer"),o.classList.add("div-acorde"),o.append(m),t.append(o),m.addEventListener("click",()=>{let t,o,m,i,r,d,l,s,c,u,p;(t=document.createElement("div")).classList.add("acorde-container"),(o=document.createElement("div")).classList.add("div-info"),(m=document.createElement("div")).classList.add("div-display"),(i=document.createElement("div")).classList.add("infoAcorde-container","c-default"),i.append(o,m),(r=document.createElement("div")).classList.add("btnAcorde-container"),(d=document.createElement("button")).append("Voltar"),(l=document.createElement("button")).append("Remover Acorde"),l.classList.add("btnRemover"),l.addEventListener("click",()=>{let t;(t=JSON.parse(localStorage.getItem("acordes"))).splice(a,1),console.log(t," ",a),localStorage.setItem("acordes",JSON.stringify(t)),e()}),s=document.createElement("div"),c=document.createElement("i"),s.classList.add("voltar-container","pointer"),c.classList.add("fa-solid","fa-right-long","fa-rotate-180"),s.append(c,d),s.addEventListener("click",()=>{e()}),r.append(s,l),t.append(r),t.append(i),(u=document.createElement("h2")).append(n.nome),u.classList.add("white"),o.append(u),(p=document.createElement("h3")).append("Notas:"),p.classList.add("white"),o.append(p),n.notas.forEach((e,t)=>{let n=document.createElement("p"),a=`Corda ${t+1}: `+(void 0!=e.nota?e.nota:"Sem nota");n.classList.add("white"),n.append(a),o.append(n)}),function(e,t){let n=document.createElement("div");n.classList.add("numeroCasas-container","c-default","padding-t");let a=0;for(;a<5;){let e=document.createElement("span");e.append(t.range+a),n.append(e),a+=1}let o=document.createElement("div"),m=document.createElement("div");m.classList.add("openNote-container");let i=document.createElement("div");i.classList.add("braco"),t.notas.forEach((e,t)=>{let n=document.createElement("div");n.classList.add("openNote-holder");let a=document.createElement("span");6===e.casa?a.classList.add("openNote-bola","dis-block"):void 0===e.casa&&(a.classList.add("openNote-span"),a.append("X")),n.append(a),m.append(n)}),e2(i,!0,t.notas),o.append(i),o.append(m),e.append(n,o)}(m,n),document.querySelector(".builder-container").replaceChildren(t)})});else{let e=document.createElement("div");e.classList.add("acordes-placeholder","c-default");let n=document.createElement("span");n.append("Crie acordes na tela do construtor e eles aparecerão aqui!"),e.append(n),t.append(e)}}(),e8(e.target)}),eK.addEventListener("click",()=>{let e=document.querySelector(".listaInput");null!=document.querySelector(".listaInput")&&(e.classList.toggle("dis-block"),e.classList.toggle("dis-none"))}),eQ.addEventListener("click",()=>{!function(){let e={},t=document.querySelector(".textoSave");if(eX.value.length<=0)return t.replaceChildren("O acorde precisa ter um nome de no mínimo um caractere");if(console.log(eY),eY.length<2)return t.replaceChildren("Forme um acorde com pelo menos duas notas");if(e.nome=eX.value,e.notas=eY,e.range=e_,localStorage.getItem("acordes")){let n=JSON.parse(localStorage.getItem("acordes"));(function(e){let t=JSON.parse(localStorage.getItem("acordes"));for(let n=0;n<t.length;n++)if(t[n].nome===e)return!0;return!1})(e.nome)?t.replaceChildren("Já existe um acorde com o mesmo nome."):(n.push(e),localStorage.setItem("acordes",JSON.stringify(n)),t.replaceChildren("O acorde "+eX.value+" foi salvo!"))}else localStorage.setItem("acordes",JSON.stringify([e])),t.replaceChildren("O acorde "+eX.value+" foi salvo!")}()});
//# sourceMappingURL=index.30351e5f.js.map
